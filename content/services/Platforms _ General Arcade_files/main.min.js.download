"use strict";var $=jQuery,APP={isTablet:!1,init:function(){APP.detect_device_type(),APP.on_window_resize(),APP.svgs(),APP.main_menu(),APP.scroll_to_section(),APP.dropdown_redirect(),APP.more_projects(),APP.more_news(),APP.dd_navigation()},dd_navigation:function(){$(".js-dd-nav-open").on("click",function(){$(".js-dd-nav-list").slideToggle()})},more_projects:function(){var i=!1,c=!1,r=$(".js-projects-more"),a=r.text();$(".js-projects-more").on("click",function(e){e.preventDefault();var t=$(this);!function(e,t,n){if(i||c)return;i=!0;var o={action:"load_more_projects",platform_id:e,type_id:t,offset:n};$.ajax({url:APP_VARS.AJAX,type:"POST",data:o,dataType:"json",beforeSend:function(){r.text("Loading ...")},complete:function(){i=!1},success:function(e){e?($(".js-projects-grid").append(e),r.text(a)):(c=!0,r.hide())}})}(t.data("platform-id")||"",t.data("type-id")||"",$(".js-project").length)})},more_news:function(){var o=!1,i=!1,c=$(".js-news-more"),r=c.text();$(".js-news-more").on("click",function(e){e.preventDefault(),function(e,t){if(o||i)return;o=!0;var n={action:"load_more_news",category:e,offset:t};$.ajax({url:APP_VARS.AJAX,type:"POST",data:n,dataType:"json",beforeSend:function(){c.text("Loading ...")},complete:function(){o=!1},success:function(e){e?($(".js-news-grid").append(e).find(".js-article").matchHeight({byRow:!0}),c.text(r),$.fn.matchHeight._update()):(i=!0,c.hide())}})}($(this).data("category-id")||"",$(".js-article").length)})},main_menu:function(){$(".js-menu-open").on("click",function(e){e.preventDefault(),$(".c-menu-wrapper").addClass("c-menu-wrapper--open"),$(".c-menu-overlay").show(400),$("html").css("overflow","hidden")}),$(".js-menu-close").on("click",function(e){e.preventDefault(),$(".c-menu-wrapper").removeClass("c-menu-wrapper--open"),$(".c-menu-overlay").hide(400),$("html").css("overflow","")}),$(window).resize(function(){APP.isTablet||$(".js-menu-close").click()})},dropdown_redirect:function(){$(".js-dd-redirect").on("change",function(e){window.location.href=$(this).val()})},scroll_to_section:function(){$(document).on("click","a[href*='#']",function(e){var t,n=$(this).attr("href"),o=n.substring(n.indexOf("#"));$(o).length&&(e.preventDefault(),$(".c-menu-wrapper").hasClass("c-menu-wrapper--open")&&$(".js-menu-close").click(),t=$(o).offset().top,$("html, body").stop().animate({scrollTop:t-20+"px"},800))})},svgs:function(){$("img.svg").each(function(){var n=jQuery(this),o=n.attr("id"),i=n.attr("class"),e=n.attr("src"),c=n.attr("style");jQuery.get(e,function(e){var t=jQuery(e).find("svg");void 0!==o&&(t=t.attr("id",o)),void 0!==i&&(t=t.attr("class",i+" replaced-svg")),void 0!==c&&t.find("path").attr("style",c),t=t.removeAttr("xmlns:a"),n.replaceWith(t)},"xml")})},on_window_resize:function(){$(window).on("resize",function(){APP.detect_device_type()})},detect_device_type:function(){$(window).innerWidth()<=768?APP.isTablet=!0:APP.isTablet=!1}};$(document).ready(function(){APP.init()});