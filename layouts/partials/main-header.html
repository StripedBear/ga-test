<header class="site-header">
  <div class="header-inner">
    <a href="{{ "/" | relURL }}" class="logo">
      {{ if fileExists "static/img/logo.svg" }}
      <img src='{{ "img/logo.svg" | relURL }}' alt="General Arcade">
      {{ else }}
      <img src='{{ "img/logo.png" | relURL }}' alt="General Arcade">
      {{ end }}
    </a>

    <button class="hamburger-toggle js-menu-toggle" aria-label="Toggle menu" aria-expanded="false">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>

    <nav class="main-nav js-nav">
      <ul>
        {{ range .Site.Menus.main }}
        <li>

          {{ $isActive := eq $.RelPermalink (.URL | relURL) }}

          {{ if hasPrefix .URL "#" }}
            <!-- Anchor link: DO NOT relURL -->
            <a href="{{ .URL }}"
               class="c-nav-underline">
               {{ .Name }}
            </a>

          {{ else }}
            <!-- Normal link -->
            <a href="{{ .URL | relURL }}"
               class="c-nav-underline {{ if $isActive }}active{{ end }}">
               {{ .Name }}
            </a>
          {{ end }}

        </li>
        {{ end }}
      </ul>
    </nav>

    <div class="nav-backdrop js-nav-backdrop"></div>
  </div>

  {{ if .IsHome }}
  <style>
    /* Mobile header styles - inline to ensure they apply */
    @media (max-width: 767px) {
      /* Header container with background */
      body.homepage .c-home-header-container {
        position: relative !important;
        margin-top: 0 !important;
        padding-top: 0 !important;
      }

      /* Header starts from top with 22px padding */
      body.homepage .site-header {
        padding-top: 22px !important;
        min-height: auto !important;
        position: relative !important;
        z-index: 2 !important;
      }

      /* Remove the ::after pseudo-element height */
      body.homepage .site-header::after {
        display: none !important;
      }

      /* Center logo horizontally */
      body.homepage .site-header .header-inner {
        justify-content: center !important;
        position: relative !important;
        padding: 0 16px !important;
      }

      body.homepage .logo {
        margin: 0 auto !important;
        position: static !important;
      }

      body.homepage .logo img {
        width: 107.92px !important;
        height: 149.97px !important;
        transform: none !important;
      }

      /* Hamburger in top-right corner */
      body.homepage .hamburger-toggle {
        position: absolute !important;
        right: 16px !important;
        top: 50% !important;
        transform: translateY(-50%) !important;
        z-index: 3 !important;
      }

      /* Background extends from very top of page */
      body.homepage .c-home-header-bg {
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        background-position: right top !important;
        background-size: cover !important;
        z-index: 1 !important;
        background-image: url('/img/home-header-bg.png') !important;
      }

      /* Remove padding from main */
      body.homepage main {
        padding-top: 0 !important;
      }

      /* Center "Who we are" text and ensure it's visible */
      .c-home-header-wrapper {
        position: relative !important;
        z-index: 1 !important;
      }

      .c-home-header-wrapper .text-center {
        text-align: center !important;
      }

      .c-home-header-wrapper h1,
      .c-home-header-wrapper p {
        opacity: 1 !important;
        color: #ffffff !important;
      }

      .c-home-header-wrapper h1 {
        font-size: 30px !important;
      }

      /* Add comet underline to subtitle on mobile */
      .mobile-subtitle-underline {
        position: relative !important;
        display: inline-block !important;
        padding-bottom: 10px !important;
      }

      .mobile-subtitle-underline .underline-comet {
        position: absolute !important;
        bottom: 2px !important;
        left: 0 !important;
        right: 0 !important;
        height: 2px !important;
        background: linear-gradient(
          to right,
          rgba(61, 65, 103, 0.2) 0%,
          rgba(59, 69, 111, 0.2) 5%,
          #1398ff 100%
        ) !important;
        display: block !important;
      }

      .c-wp {
        padding: 0 16px !important;
        text-align: center !important;
      }

      .c-home-header-section .col-md-7,
      .c-home-header-section .col-md-5 {
        text-align: center !important;
      }

      .c-home-header-section .text-md-left {
        text-align: center !important;
      }
    }

    /* Hide underline on desktop */
    @media (min-width: 768px) {
      .mobile-subtitle-underline::after {
        display: none !important;
      }
    }

    @media (max-width: 575px) {
      body.homepage .site-header {
        padding-top: 22px !important;
      }

      body.homepage .logo img {
        width: 107.92px !important;
        height: 149.97px !important;
      }

      body.homepage .hamburger-toggle {
        right: 12px !important;
      }
    }
  </style>
  <div class="c-home-header-bg"></div>
  <div class="c-home-header-wrapper">
    <div class="o-inner-container o-inner-container--small mx-auto ">
      <div class="text-center text-white mb-5 mb-lg-7">
        <h1 class="u-fs-huge mb-3 link-underline-onload">General Arcade</h1>
        <p><span class="mobile-subtitle-underline">Video games engineering specialists<span class="underline-comet"></span></span></p>
      </div>
    </div>
  </div>
  {{ end }}
</header>
